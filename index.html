<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>CashFlow Capitals</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root{
  --bg:#f0f9ff;
  --card:#ffffff;
  --text:#0f172a;
  --primary:#3b82f6;
  --accent:#8b5cf6;
  --success:#10b981;
  --danger:#ef4444;
  --shadow:rgba(59,130,246,0.15);
}
body{
  margin:0;
  font-family:Inter,system-ui;
  background:linear-gradient(135deg,#e0f2fe,#fdf4ff);
  color:var(--text);
}
header{
  background:linear-gradient(135deg,#6366f1,#8b5cf6);
  color:#fff;
  padding:24px;
  text-align:center;
}
.container{
  max-width:520px;
  margin:auto;
  padding:16px;
}
.card{
  background:var(--card);
  border-radius:16px;
  padding:16px;
  margin-bottom:16px;
  box-shadow:0 10px 30px var(--shadow);
}
h2{
  margin:0 0 12px;
  font-size:18px;
  background:linear-gradient(135deg,var(--primary),var(--accent));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
input,select,button{
  width:100%;
  padding:12px;
  margin-top:8px;
  border-radius:10px;
  border:2px solid #e5e7eb;
  font-size:14px;
}
button{
  background:linear-gradient(135deg,var(--primary),var(--accent));
  color:white;
  border:none;
  font-weight:600;
}
.small{font-size:13px;opacity:0.85}
.result-box{
  margin-top:12px;
  padding:14px;
  border-radius:12px;
  background:linear-gradient(135deg,#22c55e,#16a34a);
  color:white;
}
.big{
  font-size:26px;
  font-weight:800;
}
.hidden{display:none}
.mode{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}
.mode div{
  padding:12px;
  text-align:center;
  border-radius:10px;
  border:2px solid #e5e7eb;
}
.mode .active{
  background:linear-gradient(135deg,var(--primary),var(--accent));
  color:white;
  border:none;
}
</style>
</head>

<body>

<header>
<h1>üí∞ CashFlow Capitals</h1>
<p>Plan ‚Ä¢ Save ‚Ä¢ Spend Smart</p>
</header>

<div class="container">

<!-- MODE SELECT -->
<div class="card">
<h2>üéØ Choose Mode</h2>
<div class="mode">
  <div id="regBtn" onclick="setMode('regular')">Regular Income</div>
  <div id="irrBtn" onclick="setMode('irregular')">Irregular Income</div>
</div>
</div>

<!-- REGULAR MODE -->
<div id="regular" class="hidden">
  <div class="card">
    <h2>üíµ Monthly Income</h2>
    <input id="income" type="number" placeholder="Enter monthly income"/>
    <button onclick="saveIncome()">Save</button>
  </div>
</div>

<!-- IRREGULAR MODE -->
<div id="irregular" class="hidden">

  <div class="card">
    <h2>üí∞ Total Future Money</h2>
    <input id="futureMoney" type="number" placeholder="Money you‚Äôll have in future (‚Çπ)">
    <input id="futureYears" type="number" placeholder="In how many years?">
  </div>

  <div class="card">
    <h2>üõí Plan a Future Purchase</h2>
    <p class="small">
      We‚Äôll recommend how much you can spend monthly
      while saving for this item.
    </p>

    <input id="itemName" placeholder="Item name (e.g. Laptop)">
    <input id="itemCost" type="number" placeholder="Item cost (‚Çπ)">
    <button onclick="recommendPlan()">üìä Get Recommendation</button>

    <div id="planResult"></div>
  </div>

</div>

</div>

<script>
let state = JSON.parse(localStorage.getItem("cfc-app")) || {mode:null,income:0};

function save(){localStorage.setItem("cfc-app",JSON.stringify(state));}

function setMode(m){
  state.mode=m; save();
  document.getElementById("regular").classList.toggle("hidden",m!=="regular");
  document.getElementById("irregular").classList.toggle("hidden",m!=="irregular");
  document.getElementById("regBtn").classList.toggle("active",m==="regular");
  document.getElementById("irrBtn").classList.toggle("active",m==="irregular");
}

if(state.mode) setMode(state.mode);

function saveIncome(){
  state.income=+income.value;
  save();
  alert("Income saved!");
}

/* ‚≠ê YOUR REQUESTED FEATURE ‚≠ê */
function recommendPlan(){
  let total = +futureMoney.value;
  let years = +futureYears.value;
  let item = itemName.value;
  let cost = +itemCost.value;

  if(total<=0 || years<=0 || cost<=0 || !item){
    alert("Fill all fields correctly!");
    return;
  }

  let months = years*12;
  let monthlyMoney = total / months;
  let monthlySave = cost / months;
  let monthlySpend = monthlyMoney - monthlySave;

  if(monthlySpend < 0){
    planResult.innerHTML = `
      <div class="result-box">
        <b>‚ö†Ô∏è Not possible</b>
        <p>You won‚Äôt have enough money to buy ${item}.</p>
      </div>`;
    return;
  }

  planResult.innerHTML = `
    <div class="result-box">
      <h3>üõçÔ∏è ${item}</h3>
      <p>Total money in ${years} years:</p>
      <div class="big">‚Çπ${total.toLocaleString()}</div>

      <hr style="opacity:0.4">

      <p>üíæ Save per month:</p>
      <div class="big">‚Çπ${Math.ceil(monthlySave)}</div>

      <p>üßæ Spend per month:</p>
      <div class="big">‚Çπ${Math.floor(monthlySpend)}</div>

      <p class="small">
        Save first, then spend the rest.
        This way you can buy <b>${item}</b> safely.
      </p>
    </div>
  `;
}
</script>

</body>
</html>
